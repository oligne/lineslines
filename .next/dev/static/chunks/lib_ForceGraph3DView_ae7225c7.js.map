{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/mac/Desktop/ENSAAMA/03_WORK/web_RELATIONS/web_lineslines/lib/ForceGraph3DView.js"],"sourcesContent":["// lib/ForceGraph3DView.js\nimport React, { useRef, useEffect } from 'react';\nimport * as THREE from 'three';\n\n// Import dynamique de 3d-force-graph\nlet ForceGraph3DLib = null;\n\nexport default function ForceGraph3DView({ users, me, onlineUsers }) {\n  const fgRef = useRef();\n\n  useEffect(() => {\n    console.log('ForceGraph3DView users:', users);\n    let fg;\n    let isMounted = true;\n    if (!fgRef.current || !users.length) return;\n    // Import dynamique du module et création du graphe\n    import('3d-force-graph').then(mod => {\n      if (!isMounted) return;\n      ForceGraph3DLib = mod.default;\n      const nodes = users.map((u, i) => ({\n        id: u.id,\n        name: u.pseudo, // propriété name ajoutée\n        pseudo: u.pseudo,\n        isMe: me?.id === u.id,\n        isOnline: onlineUsers[u.id] || me?.id === u.id,\n        x: i === 0 ? 0 : 100, // coordonnées fixes pour test\n        y: 0,\n        z: 0,\n      }));\n      console.log('ForceGraph3DView nodes:', nodes);\n      fg = ForceGraph3DLib(fgRef.current)\n        .graphData({ nodes, links: [] })\n        .nodeThreeObject(node => new THREE.Mesh(\n          new THREE.SphereGeometry(20),\n          new THREE.MeshBasicMaterial({ color: '#ff00ff' })\n        ));\n    });\n    // Clean up\n    return () => {\n      isMounted = false;\n      if (fg && fg._destructor) fg._destructor();\n    };\n  }, [users, me, onlineUsers]);\n\n  return <div ref={fgRef} style={{ width: '100vw', height: '70vh', minHeight: 400 }} />;\n}\n"],"names":[],"mappings":";;;;;AAAA,0BAA0B;AAC1B;AACA;;;;;AAEA,qCAAqC;AACrC,IAAI,kBAAkB;AAEP,SAAS,iBAAiB,EAAE,KAAK,EAAE,EAAE,EAAE,WAAW,EAAE;;IACjE,MAAM,QAAQ,IAAA,uKAAM;IAEpB,IAAA,0KAAS;sCAAC;YACR,QAAQ,GAAG,CAAC,2BAA2B;YACvC,IAAI;YACJ,IAAI,YAAY;YAChB,IAAI,CAAC,MAAM,OAAO,IAAI,CAAC,MAAM,MAAM,EAAE;YACrC,mDAAmD;YACnD,iIAAyB,IAAI;8CAAC,CAAA;oBAC5B,IAAI,CAAC,WAAW;oBAChB,kBAAkB,IAAI,OAAO;oBAC7B,MAAM,QAAQ,MAAM,GAAG;4DAAC,CAAC,GAAG,IAAM,CAAC;gCACjC,IAAI,EAAE,EAAE;gCACR,MAAM,EAAE,MAAM;gCACd,QAAQ,EAAE,MAAM;gCAChB,MAAM,IAAI,OAAO,EAAE,EAAE;gCACrB,UAAU,WAAW,CAAC,EAAE,EAAE,CAAC,IAAI,IAAI,OAAO,EAAE,EAAE;gCAC9C,GAAG,MAAM,IAAI,IAAI;gCACjB,GAAG;gCACH,GAAG;4BACL,CAAC;;oBACD,QAAQ,GAAG,CAAC,2BAA2B;oBACvC,KAAK,gBAAgB,MAAM,OAAO,EAC/B,SAAS,CAAC;wBAAE;wBAAO,OAAO,EAAE;oBAAC,GAC7B,eAAe;sDAAC,CAAA,OAAQ,IAAI,0JAAU,CACrC,IAAI,oKAAoB,CAAC,KACzB,IAAI,uKAAuB,CAAC;gCAAE,OAAO;4BAAU;;gBAErD;;YACA,WAAW;YACX;8CAAO;oBACL,YAAY;oBACZ,IAAI,MAAM,GAAG,WAAW,EAAE,GAAG,WAAW;gBAC1C;;QACF;qCAAG;QAAC;QAAO;QAAI;KAAY;IAE3B,qBAAO,6LAAC;QAAI,KAAK;QAAO,OAAO;YAAE,OAAO;YAAS,QAAQ;YAAQ,WAAW;QAAI;;;;;;AAClF;GAtCwB;KAAA"}}]
}